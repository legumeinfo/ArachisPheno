{% extends "base.html" %}

{% block title %}ArachisPheno - REST API{% endblock title %}

{% block content %}
<div id="index-banner" class="parallax-container" style="height:130px">
    <div class="section no-pad-bot">
        <div class="container">
        </div>
    </div>
    <div class="parallax"><img src="/static/img/arachispheno_background.jpg" alt="Unsplashed background img 1"></div>
</div>
<div class="container">
    <div class="section">
        <div class="row">
            <div class="col s12 l12 m12">

                <ul class="collection">
                <li class="collection-item avatar">
                <i class="material-icons circle amber">code</i>
                <span class="title black-text" style="font-size:20px">Information about REST API</span>
                <br><br>
                 <ul class="collapsible popout" data-collapsible="accordion">
                    <li>
                        <div class="collapsible-header"><i class="material-icons">code</i>What is a REST API?</div>
                        <div class="collapsible-body"><p>
                        <b>REST</b> is an abbreviation for <strong>representational state transfer</strong>. It can be used to retrieve data from ArachisPheno
                        using a specially formatted URL. You also can write custom scripts (e.g. in Python, Perl, Java, etc.) to request and download the information you need.
                        <br>
                        <br>
                        All REST commands will start with the following prefix: <strong>/rest/</strong>
                        <br>
                        <br>
                        More information can be found at Wikipedia: <a href="https://en.wikipedia.org/wiki/Representational_state_transfer" target="_top"> What is REST?</a>
                        </p></div>
                    </li>
                    <li>
                        <div class="collapsible-header"><i class="material-icons">code</i>How to get a list of all phenotypes?</div>
                        <div class="collapsible-body"><p>You can use one of the following URLs to retrieve a list of phenotypes.
                        <br><br>
                        <strong>For CSV format: <a href="/rest/phenotype/list.csv">&lt;BASE_URL&gt;/rest/phenotype/list.csv</a></strong>
                        <br><br>
                        <strong>For JSON format: <a href="/rest/phenotype/list.json">&lt;BASE_URL&gt;/rest/phenotype/list.json</a></strong>
                        <br><br>
                        A more detailed API description can be found here: <a href="/faq/rest/swagger/">API Documentation</a>
                        </p>
                        </div>
                    </li>
                    <li>
                        <div class="collapsible-header"><i class="material-icons">code</i>How to get details for a certain phenotype?</div>
                        <div class="collapsible-body"><p>You can use either the primary id or DOI to access certain details for a phenotype. Just replace &lt;q&gt; with the phenotype id or DOI.
                        <br><br>
                        <strong>For CSV format: &lt;BASE_URL&gt;/rest/phenotype/&lt;q&gt;.csv</strong>
                        <br><br>
                        <strong>For JSON format: &lt;BASE_URL&gt;/rest/phenotype/&lt;q&gt;.json</strong>
                        <br><br>
                        Example: <a href="/rest/phenotype/1.json">&lt;BASE_URL&gt;/rest/phenotype/1.json</a>
                        <br><br>
                        A more detailed API description can be found here: <a href="/faq/rest/swagger/">API Documentation</a>
                        </p>
                        </div>
                    </li>
                    <li>
                        <div class="collapsible-header"><i class="material-icons">code</i>How to get all phenotype values and accession information for a certain phenotype?</div>
                        <div class="collapsible-body"><p>You can use either the primary id or DOI to get all phenotype values for a certain phenotype.
                        Just replace &lt;q&gt; with the study id or DOI and extend URL with <strong>/phenotypes</strong> and extend the URL with <strong>/values</strong>
                        <br><br>
                        <strong>For CSV format: &lt;BASE_URL&gt;/rest/phenotype/&lt;q&gt;/values.csv</strong>
                        <br><br>
                        <strong>For JSON format: &lt;BASE_URL&gt;/rest/phenotype/&lt;q&gt;/values.json</strong>
                        <br><br>
                        Example: <a href="/rest/phenotype/1/values.json">&lt;BASE_URL&gt;/rest/phenotype/1/values.json</a>
                        <br><br>
                        A more detailed API description can be found here: <a href="/faq/rest/swagger/">API Documentation</a>
                        </p>
                        </div>
                    </li>
                    <li>
                        <div class="collapsible-header"><i class="material-icons">code</i>How to get transformed phenotype values for a certain phenotype?</div>
                            <div class="collapsible-body"><p>You can use either the primary id or DOI to get transformed phenotype values for a certain phenotype.
                            Just replace &lt;q&gt; with the phenotype id or DOI. This will return transformed phenotype values for all transformations (sqrt, Box-Cox, log)
                            <br><br>
                            <strong>For CSV format: &lt;BASE_URL&gt;/rest/phenotype/&lt;q&gt;/transformations.csv</strong>
                            <br><br>
                            <strong>For JSON format: &lt;BASE_URL&gt;/rest/phenotype/&lt;q&gt;/transformations.json</strong>
                            <br><br>
                            Example: <a href="/rest/phenotype/1/transformations.json">&lt;BASE_URL&gt;/rest/phenotype/1/transformations.json</a>
                            <br><br>
                            It is also possible to retrieve the transformed phenotype values for a specific transformation by extending the URL with the desired transformation name:
                            <a href="/rest/phenotype/1/transformations/box_cox.json">&lt;BASE_URL&gt;/rest/phenotype/1/transformations/box_cox.json</a>
                            <br><br>
                            A more detailed API description can be found here: <a href="/faq/rest/swagger/">API Documentation</a>
                            </p>
                            </div>
                        </li>
                    <li>
                        <div class="collapsible-header"><i class="material-icons">code</i>How to get a list of all studies?</div>
                        <div class="collapsible-body"><p>You can use one of the following URL to retrieve a list of studies.
                        <br><br>
                        <strong>For CSV format: <a href="/rest/study/list.csv">&lt;BASE_URL&gt;/rest/study/list.csv</a></strong>
                        <br><br>
                        <strong>For JSON format: <a href="/rest/study/list.json">&lt;BASE_URL&gt;/rest/study/list.json</a></strong>
                        <br><br>
                        A more detailed API description can be found here: <a href="/faq/rest/swagger/">API Documentation</a>
                        </p>
                        </div>
                    </li>
                    <li>
                        <div class="collapsible-header"><i class="material-icons">code</i>How to get details for a certain study?</div>
                        <div class="collapsible-body"><p>You can use either the primary id or DOI to access certain details for a study. Just replace &lt;q&gt; with the study id or DOI.
                        <br><br>
                        <strong>For CSV format: &lt;BASE_URL&gt;/rest/study/&lt;q&gt;.csv</strong>
                        <br><br>
                        <strong>For JSON format: &lt;BASE_URL&gt;/rest/study/&lt;q&gt;.json</strong>
                        <br><br>
                        Example: <a href="/rest/study/1.json">&lt;BASE_URL&gt;/rest/study/1.json</a>
                        <br><br>
                        A more detailed API description can be found here: <a href="/faq/rest/swagger/">API Documentation</a>
                        </p>
                        </div>
                    </li>
                    <li>
                        <div class="collapsible-header"><i class="material-icons">code</i>How to get all phenotypes for a certain study?</div>
                        <div class="collapsible-body"><p>You can use either the primary id or DOI to access a list of all phenotypes for a study.
                        Just replace &lt;q&gt; with the study id or DOI and extend URL with <strong>/phenotypes</strong>.
                        <br><br>
                        <strong>For CSV format: &lt;BASE_URL&gt;/rest/study/&lt;q&gt;/phenotypes.csv</strong>
                        <br><br>
                        <strong>For JSON format: &lt;BASE_URL&gt;/rest/study/&lt;q&gt;/phenotypes.json</strong>
                        <br><br>
                        Example: <a href="/rest/study/1/phenotypes.json">&lt;BASE_URL&gt;/rest/study/1/phenotypes.json</a>
                        <br><br>
                        A more detailed API description can be found here: <a href="/faq/rest/swagger/">API Documentation</a>
                        </p>
                        </div>
                    </li>
                    <li>
                        <div class="collapsible-header"><i class="material-icons">code</i>How to get a list of all accessions?</div>
                        <div class="collapsible-body"><p>You can use one of the following URL to retrieve a list of accessions.
                        <br><br>
                        <strong>For CSV format: <a href="/rest/accession/list.csv">&lt;BASE_URL&gt;/rest/accession/list.csv</a></strong>
                        <br><br>
                        <strong>For JSON format: <a href="/rest/accession/list.json">&lt;BASE_URL&gt;/rest/accession/list.json</a></strong>
                        <br><br>
                        A more detailed API description can be found here: <a href="/faq/rest/swagger/">API Documentation</a>
                        </p>
                        </div>
                    </li>
                    <li>
                        <div class="collapsible-header"><i class="material-icons">code</i>How to get details for a certain accession?</div>
                        <div class="collapsible-body"><p>You can use the accession id to access certain details for an accession. Just replace &lt;q&gt; with the accession id.
                        <br><br>
                        <strong>For CSV format: &lt;BASE_URL&gt;/rest/accession/&lt;q&gt;.csv</strong>
                        <br><br>
                        <strong>For JSON format: &lt;BASE_URL&gt;/rest/accession/&lt;q&gt;.json</strong>
                        <br><br>
                        Example: <a href="/rest/accession/PI 497318.json">&lt;BASE_URL&gt;/rest/accession/PI 497318.json</a>
                        <br><br>
                        A more detailed API description can be found here: <a href="/faq/rest/swagger/">API Documentation</a>
                        </p>
                        </div>
                    </li>
                    <li>
                        <div class="collapsible-header"><i class="material-icons">code</i>How to get all phenotypes for a certain accession?</div>
                        <div class="collapsible-body"><p>You can use the accession id to access a list of all phenotypes for this accession.
                        Just replace &lt;q&gt; with the accession id and extend URL with <strong>/phenotypes</strong>.
                        <br><br>
                        <strong>For CSV format: &lt;BASE_URL&gt;/rest/accession/&lt;q&gt;/phenotypes.csv</strong>
                        <br><br>
                        <strong>For JSON format: &lt;BASE_URL&gt;/rest/accession/&lt;q&gt;/phenotypes.json</strong>
                        <br><br>
                        Example: <a href="/rest/accession/PI 497318/phenotypes.json">&lt;BASE_URL&gt;/rest/accession/PI 497318/phenotypes.json</a>
                        <br><br>
                        A more detailed API description can be found here: <a href="/faq/rest/swagger/">API Documentation</a>
                        </p>
                        </div>
                    </li>
                    <li>
                        <div class="collapsible-header"><i class="material-icons">code</i>How to get all phenotypes for a list of accessions?</div>
                        <div class="collapsible-body"><p>You send a <code>POST</code> request with a list of accession ids (comma-separated) and the REST endpoint will return a map with accession_id &rarr; list of phenotypes.
                        <br>
                        Example (cURL): <code>curl --request POST --url &lt;BASE_URL&gt;/rest/accession/phenotypes/ --header 'content-type: text/plain' --data 'PI 497318,PI 497395'</code>
                        <br><br>
                        The response will contain a JSON dict with the following format:
                        </p>
                        <pre>
    {
        "PI 497318": [
            {...,"phenotype_id":1,"name":"#1_kernel_weight",...},
            {...,"phenotype_id":2,"name":"all_other_seed_types_weight",...},
            ...
        ],
        "PI 497395": [
            {...,"phenotype_id":1,"name":"#1_kernel_weight",...},
            {...,"phenotype_id":2,"name":"all_other_seed_types_weight",...},
            ...
        ],
        ...
    }
                        </pre>
                        <p>
                        A more detailed API description can be found here: <a href="/faq/rest/swagger/">API Documentation</a>
                        </p>
                        </div>
                    </li>
                    <li>
                        <div class="collapsible-header"><i class="material-icons">code</i>How to do a database search with REST?</div>
                        <div class="collapsible-body"><p>You can use the following URL to perform a search.
                        Just replace &lt;query&gt; with your search query (e.g. with a phenotype name). If the search query is empty you will get a list with all phenotypes and studies.
                        <br><br>
                        <strong>For CSV format: &lt;BASE_URL&gt;/rest/search/&lt;query&gt;.csv</strong>
                        <br><br>
                        <strong>For JSON format: &lt;BASE_URL&gt;/rest/search/&lt;query&gt;.json</strong>
                        <br><br>
                        Example: <a href="/rest/search/at.json">&lt;BASE_URL&gt;/rest/search/at.json</a>
                        <br><br>
                        A more detailed API description can be found here: <a href="/faq/rest/swagger/">API Documentation</a>
                        </p>
                        </div>
                    </li>
                    <li>
                        <div class="collapsible-header"><i class="material-icons">code</i>How to retrieve phenotype correlations via REST?</div>
                        <div class="collapsible-body"><p>You can use the following URL to compute phenotype-phenotype correlations.
                        Just replace &lt;query&gt; with a comma-separated list of phenotype ids. Note that for this query we only support JSON as output format.
                        <br><br>
                        <strong>&lt;BASE_URL&gt;/rest/correlation/&lt;query&gt;/</strong>
                        <br><br>
                        Example: <a href="/rest/correlation/2,3,5,7,11,13,17,19,23,29/">&lt;BASE_URL&gt;/rest/correlation/2,3,5,7,11,13,17,19,23,29/</a>
                        <br><br>
                        A more detailed API description can be found here: <a href="/faq/rest/swagger/">API Documentation</a>
                        </p>
                        </div>
                    </li>
                    <li>
                        <div class="collapsible-header"><i class="material-icons">code</i>How to submit your study via REST?</div>
                        <div class="collapsible-body"><p>You can submit a study by sending a <code>POST</code> request containing the study file in ISA-TAB or PLINK format
                        and additional form fields (i.e. firstname, lastname, email) to the following URL:
                        <strong>&lt;BASE_URL&gt;/rest/submission/</strong><br>
                        The response will contain information about the submission (see below)
                        <br><br>
                        Example (cURL): <code>curl -X POST -H "Cache-Control: no-cache" -H "Content-Type: multipart/form-data; boundary=----WebKitFormBoundary7MA4YWxkTrZu0gW" -F "file=@" -F "firstname=John" -F "lastname=Doe" -F "email=john@doe.com" "&lt;BASE_URL&gt;/rest/submission/"</code>
                        <br><br>
                        A more detailed API description can be found here: <a href="/faq/rest/swagger/">API Documentation</a>
                        </p>
                        </div>
                    </li>
                   <li>
                        <div class="collapsible-header"><i class="material-icons">code</i>How to get details for a submission?</div>
                        <div class="collapsible-body"><p>You can use the submission_id to view details such as its status and curation. Just replace &lt;q&gt; with the submission_id:
                        <br><br>
                        <strong>&lt;BASE_URL&gt;/rest/submission/&lt;q&gt;.json</strong>
                        <br><br>
                        A more detailed API description can be found here: <a href="/faq/rest/swagger/">API Documentation</a>
                        </p>
                        </div>
                    </li>
                    <li>
                        <div class="collapsible-header"><i class="material-icons">code</i>How to delete a submission?</div>
                        <div class="collapsible-body"><p>You can use the submission_id to delete by sending a <code>DELETE</code> request. Just replace &lt;q&gt; with the submission_id:
                        <br><br>
                        <strong>&lt;BASE_URL&gt;/rest/submission/&lt;q&gt;/delete</strong>
                        <br><br>
                        Example (cURL): <code>curl -X DELETE -H "Cache-Control: no-cache" "&lt;BASE_URL&gt;/rest/submission/[SUBMISSION_ID]/delete"</code>
                        <br><br>
                        A more detailed API description can be found here: <a href="/faq/rest/swagger/">API Documentation</a>
                        </p>
                        </div>
                    </li>

                 </ul>

                </li>
                </ul>

            </div>
        </div>
    </div>
</div>

<script type="text/javascript">
    $(document).ready(function(){
        $('.parallax').parallax();
    });
</script>
{% endblock content %}
